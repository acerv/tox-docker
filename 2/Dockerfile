# This file has been generated by setup.sh script

FROM sawkita/apt-python-docker:latest

LABEL MAINTAINER="Andrea Cervesato <andrea.cervesato@mailbox.org>"

ENV DEBIAN_FRONTEND noninteractive

ENV TOX_VERSION 3.14.6

# http://bugs.python.org/issue19846
ENV LANG C.UTF-8

ENV PYTHON_2_PKG \
	python2.3-dev \
	python2.4-dev \
	python2.5-dev \
	python2.6-dev \
	python2.7-dev

ENV PYTHON_3_PKG \
	python3.1-dev \
	python3.2-dev \
	python3.3-dev \
	python3.4-dev \
	python3.5-dev \
	python3.6-dev \
	python3.7-dev \
	python3.8-dev \
	python3.9-dev

ENV PYTHON_all_PKG \
	${PYTHON_2_PKG} \
	${PYTHON_3_PKG}

# install python according with PYTHON_VERSION argument
RUN apt-get update && apt-get install --no-install-recommends -y \
		wget \
		ca-certificates \
		${PYTHON_2_PKG} \
    && apt-get purge -y --auto-remove \
    && rm -rf /var/lib/apt/lists/*

# install tox
RUN wget https://bootstrap.pypa.io/get-pip.py \
	&& python2.7 get-pip.py --no-cache-dir \
    && rm -f get-pip.py \
    && pip install \
		--no-cache-dir \
        tox==$TOX_VERSION \
    && rm -rf /root/.cache
